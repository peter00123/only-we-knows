<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>only we Knows</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--label class="heading">Only We Knows</label-->
    <div class="navbar">
        <span>
            <span class="word">
            <label class="h1">O</label>
            <label class="h2">nly</label>
            </span>
            <span class="word">
            <label class="h1">W</label>
            <label class="h2">e</label>
            </span>
            <span class="word">
            <label class="h1">K</label>
            <label class="h2">nows</label>
            </span>
        </span>
    </div>

    <div class="container">
        
        <div class="output-container">
            <div class="copy-icon" onclick="pasteFromClipboard()">ðŸ“‹</div>
            <textarea type="text" id="inputText" placeholder="type here" ></textarea>
        </div>

        <div class="entry">
            <input type="text" class="code" id="smallInput" placeholder="code">
            <button class="submit-button" onclick="encryptCaesarCipher()">lock</button>
            <button class="submit-button-un" onclick="decryptCaesarCipher()">unlock</button>
        </div>
        
        <div class="output-container">
            <div class="copy-icon" onclick="copyToClipboard()">ðŸ“‹</div>
            <textarea type="text" id="outputText" placeholder="locked text" readonly></textarea>
          </div>
    </div>

    <script>
//////////////////////.....................copy and paste......................??///////////////////?

function copyToClipboard() {
  const outputField = document.getElementById("outputText");
  outputField.select(); // Select the text
  navigator.clipboard.writeText(outputField.value) // Copy text to clipboard
    .then(() =>  console.log("copied")) //alert("Content copied!"))
    .catch(() => console.log("failed")); // alert("Failed to copy!"));
}

function pasteFromClipboard() {
  const outputField = document.getElementById("inputText");

  navigator.clipboard.readText()
    .then((text) => {
      outputField.value = text; 
    })
    .catch(() => {
      alert("Failed to paste text. Ensure the clipboard has content.");
    });
}

        function encryptCaesarCipher() {


            const plainText = document.getElementById('inputText').value;
            
              const shift = parseInt(document.getElementById('smallInput').value, 10); 
            
            const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const lowerAlphabet = alphabet.toLowerCase();
            const symbols = '!@#$%^&*()_+{}|:"<>?'      ;     

            

            

            let encryptedText = '';

            for (let char of plainText) {
                if (alphabet.includes(char)) {
                    
                    const index = alphabet.indexOf(char);
                    const newIndex = (index + shift) % 26;
                    encryptedText += alphabet[newIndex];
                } else if (lowerAlphabet.includes(char)) {
                   
                    const index = lowerAlphabet.indexOf(char);
                    const newIndex = (index + shift) % 26;
                    encryptedText += lowerAlphabet[newIndex];
                } else if(symbols.includes(char)){
                    const index = symbols.indexOf(char);
                    const newIndex = (index + shift) % 26;
                    encryptedText += symbols[newIndex];
                }
                 else {
                     
                    encryptedText += char;
                }
            }

            
            document.getElementById('outputText').value = encryptedText;
        }


        
         
        function decryptCaesarCipher() {
            const plainText = document.getElementById('inputText').value;
            const shift = parseInt(document.getElementById('smallInput').value, 10);  

            const alphabet = 'ZYXWVUTSRQPONMLKJIHGFEDCBA';
            const lowerAlphabet = alphabet.toLowerCase();
            const symbols = '?><":|}{+_)(*&^%$#@!' 


            

            

            let encryptedText = '';

            for (let char of plainText) {
                if (alphabet.includes(char)) {
                     
                    const index = alphabet.indexOf(char);
                    const newIndex = (index + shift) % 26;
                    encryptedText += alphabet[newIndex];
                } else if (lowerAlphabet.includes(char)) {
                     
                    const index = lowerAlphabet.indexOf(char);
                    const newIndex = (index + shift) % 26;
                    encryptedText += lowerAlphabet[newIndex];
                } else if(symbols.includes(char)){
                    const index = symbols.indexOf(char);
                    const newIndex = (index + shift) % 26;
                    encryptedText += symbols[newIndex];
                }
                 else {
                    
                    encryptedText += char;
                }
            }

             
            document.getElementById('outputText').value = encryptedText;
        }



    </script>
</body>
</html>